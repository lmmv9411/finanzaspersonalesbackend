import{c as n,a as t,o as l,u as w,b as p,d as h,w as c,v as g,e as v,f as y,g as k,F as b,r as M,n as x,t as a}from"./index-DDvP7NfH.js";function _(f,r){return l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M3.792 2.938A49.069 49.069 0 0 1 12 2.25c2.797 0 5.54.236 8.209.688a1.857 1.857 0 0 1 1.541 1.836v1.044a3 3 0 0 1-.879 2.121l-6.182 6.182a1.5 1.5 0 0 0-.439 1.061v2.927a3 3 0 0 1-1.658 2.684l-1.757.878A.75.75 0 0 1 9.75 21v-5.818a1.5 1.5 0 0 0-.44-1.06L3.13 7.938a3 3 0 0 1-.879-2.121V4.774c0-.897.64-1.683 1.542-1.836Z","clip-rule":"evenodd"})])}const D={class:"flex-1"},F={class:"flex-1"},S={type:"submit",class:"flex gap-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded"},C={class:"w-full max-w-4xl mx-auto p-4 overflow-x-auto"},O={class:"dark:text-white w-full table-auto border-collapse whitespace-nowrap"},T={class:"px-4 py-2"},V={class:"px-4 py-2"},B={class:"px-4 py-2"},I={class:"px-4 py-2"},A={__name:"Movements",setup(f){const r=w(),d=p({get:()=>r.startDate.toISOString().split("T")[0],set:o=>{const e=new Date(o);e.setMinutes(e.getMinutes()+e.getTimezoneOffset()),r.startDate=e}}),i=p({get:()=>r.endDate.toISOString().split("T")[0],set:o=>{const e=new Date(o);e.setMinutes(e.getMinutes()+e.getTimezoneOffset()),r.endDate=e}});h(()=>r.fetchMovements(!0));const m=()=>r.fetchMovements();return(o,e)=>(l(),n(b,null,[e[6]||(e[6]=t("h2",{class:"mx-auto dark:text-white w-fit text-2xl font-semibold mt-4"},"Movimientos Registrados",-1)),t("form",{onSubmit:k(m,["prevent"]),class:"shadow-md p-2 rounded dark:bg-gray-800 bg-slate-100 flex gap-2 dark:text-gray-300 items-start sm:flex-row sm:items-end sm:w-fit m-auto flex-wrap"},[t("div",D,[e[2]||(e[2]=t("label",{for:"startDate",class:"block text-gray-700 dark:text-gray-300"},"Fecha Inicio",-1)),c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),type:"date",class:"p-2 border border-gray-300 dark:bg-gray-900 dark:border-gray-700 border-2 focus:border-gray-300 focus:outline-none focus:border-gray-500 transition-colors duration-300 rounded"},null,512),[[g,d.value]])]),t("div",F,[e[3]||(e[3]=t("label",{for:"endDate",class:"block text-gray-700 dark:text-gray-300"},"Fecha Fin",-1)),c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.value=s),type:"date",class:"p-2 border border-gray-300 dark:bg-gray-900 dark:border-gray-700 border-2 focus:border-gray-300 focus:outline-none focus:border-gray-500 transition-colors duration-300 rounded"},null,512),[[g,i.value]])]),t("button",S,[v(y(_),{class:"w-4"}),e[4]||(e[4]=t("span",null,"Filtrar",-1))])],32),t("div",C,[t("table",O,[e[5]||(e[5]=t("thead",null,[t("tr",{class:"border-b border-gray-400"},[t("th",{class:"px-4 py-2"},"Tipo"),t("th",{class:"px-4 py-2"},"Monto"),t("th",{class:"px-4 py-2"},"Descripción"),t("th",{class:"px-4 py-2"},"Categoría"),t("th",{class:"px-4 py-2"},"Fecha")])],-1)),t("tbody",null,[(l(!0),n(b,null,M(y(r).movements,s=>{var u;return l(),n("tr",{key:s.id,class:"border-b border-gray-300"},[t("td",T,[t("span",{class:x(["font-bold",{"text-green-600":s.type==="ingreso","text-red-600":s.type!=="ingreso"}])},a(s.type),3)]),t("td",{class:x(["px-4 py-2",{"text-green-600":s.type==="ingreso","text-red-600":s.type!=="ingreso"}])},a(new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}).format(s.type==="gasto"?s.amount*-1:s.amount)),3),t("td",V,a(s.description),1),t("td",B,a((u=s.Category)==null?void 0:u.name),1),t("td",I,a(new Date(s.createdAt).toLocaleString()),1)])}),128))])])])],64))}};export{A as default};
