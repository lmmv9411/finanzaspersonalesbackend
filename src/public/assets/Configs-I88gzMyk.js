import{r,B as u,d as _,m as c,c as b,o as d,a as t,t as v,l as h}from"./index-DLI3n1ZZ.js";const x={class:"max-w-sm mx-auto mt-10 p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg"},y={class:"flex flex-col items-center gap-4"},w=["src"],k=["disabled"],B={__name:"ProfilePictureUploader",setup(p){const o=r(`${u}/uploads/default.jpg`),s=r(null),l=r(null),i=r(null),n=r(!1);function f(){s.value.click()}function g(a){const e=a.target.files[0];e&&(l.value=e,i.value=URL.createObjectURL(e))}async function m(){if(!l.value)return;n.value=!0;const a=new FormData;a.append("image",l.value);try{const{data:e}=await c.post("/user/upload-profile-pic",a,{headers:{"Content-Type":"multipart/form-data"}});e.url?(o.value=`${u}${e.url}`,i.value=null,l.value=null):alert("Error al subir la imagen")}catch(e){console.error(e),alert("OcurriÃ³ un error")}finally{n.value=!1}}return _(async()=>{const{data:a}=await c.get("/user");o.value=`${u}${a.profilePicture}`}),(a,e)=>(d(),b("div",x,[e[0]||(e[0]=t("h2",{class:"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-100 text-center"},"Subir Foto de Perfil",-1)),t("div",y,[t("img",{src:i.value||o.value,alt:"Foto de perfil",class:"w-32 h-32 rounded-full object-cover border-4 border-gray-300 dark:border-gray-600 shadow"},null,8,w),t("input",{ref_key:"fileInput",ref:s,type:"file",accept:"image/*",class:"hidden",onChange:g},null,544),t("button",{onClick:f,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"}," Seleccionar imagen "),t("button",{onClick:m,disabled:!l.value||n.value,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition"},v(n.value?"Subiendo...":"Guardar"),9,k)])]))}},F={__name:"Configs",setup(p){return(o,s)=>(d(),h(B))}};export{F as default};
