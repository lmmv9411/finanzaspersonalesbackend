import{r,d as m,m as u,c as b,o as c,a,t as _,l as v}from"./index-BqgEXKb7.js";const h={class:"max-w-sm mx-auto mt-10 p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg"},x={class:"flex flex-col items-center gap-4"},y=["src"],w=["disabled"],k={__name:"ProfilePictureUploader",setup(d){const o=r("http://192.168.1.66:3000/uploads/default.jpg"),s=r(null),l=r(null),i=r(null),n=r(!1);function p(){s.value.click()}function f(t){const e=t.target.files[0];e&&(l.value=e,i.value=URL.createObjectURL(e))}async function g(){if(!l.value)return;n.value=!0;const t=new FormData;t.append("image",l.value);try{const{data:e}=await u.post("/user/upload-profile-pic",t,{headers:{"Content-Type":"multipart/form-data"}});e.url?(o.value="http://192.168.1.66:3000"+e.url,i.value=null,l.value=null):alert("Error al subir la imagen")}catch(e){console.error(e),alert("OcurriÃ³ un error")}finally{n.value=!1}}return m(async()=>{const{data:t}=await u.get("/user");o.value="http://192.168.1.66:3000"+t.profilePicture}),(t,e)=>(c(),b("div",h,[e[0]||(e[0]=a("h2",{class:"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-100 text-center"},"Subir Foto de Perfil",-1)),a("div",x,[a("img",{src:i.value||o.value,alt:"Foto de perfil",class:"w-32 h-32 rounded-full object-cover border-4 border-gray-300 dark:border-gray-600 shadow"},null,8,y),a("input",{ref_key:"fileInput",ref:s,type:"file",accept:"image/*",class:"hidden",onChange:f},null,544),a("button",{onClick:p,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"}," Seleccionar imagen "),a("button",{onClick:g,disabled:!l.value||n.value,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition"},_(n.value?"Subiendo...":"Guardar"),9,w)])]))}},F={__name:"Configs",setup(d){return(o,s)=>(c(),v(k))}};export{F as default};
