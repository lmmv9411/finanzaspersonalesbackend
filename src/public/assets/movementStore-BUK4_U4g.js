import{c as i,o as d,a as r,l as c,K as C,m as S,h as V,d as p,n as f,u as m,t as w,w as M,G as B,F as I,b as D,M as E,T as N,k as F,i as y}from"./index-2Nd8jLvV.js";import{I as _}from"./iconify-C7P-9Y9H.js";import{u as L}from"./categoriesStore-D10yB8fK.js";import{g as b}from"./icons-Dk--Jyq9.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";function T(t,u){return d(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"fill-rule":"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z","clip-rule":"evenodd"})])}const $={class:"w-full"},j={key:0,class:"flex items-center gap-2"},z={key:1},G={class:"max-h-60 p-2 overflow-y-auto mt-1 rounded-md bg-gray-100 dark:bg-gray-800 shadow-lg border border-gray-200 dark:border-gray-700 max-h-60"},K={class:"grid grid-cols-4 gap-3"},P=["onClick"],R={class:"mt-1 text-xs block w-full text-center break-words text-wrap"},Z={__name:"CategorySelect",props:{modelValue:Number,type:String},emits:["update:modelValue"],setup(t,{emit:u}){const e=t,h=u,s=L(),n=c([]),v=c(!1),x=()=>v.value=!v.value,a=c(null),k=o=>{h("update:modelValue",o.id),a.value=o,v.value=!1};return C(()=>{e.modelValue===0&&(a.value="")}),S(()=>e.type,()=>{n.value=s.categories.filter(o=>o.type===e.type),a.value=""}),V(async()=>{await s.getCategories();const o=s.categories.find(g=>g.id===e.modelValue);o&&(a.value=o),e.type?n.value=s.categories.filter(g=>g.type===e.type):n.value=s.categories}),(o,g)=>(d(),i("div",$,[r("button",{onClick:x,type:"button",class:"w-full flex items-center justify-between p-2 border border-gray-300 rounded-md shadow-sm dark:bg-gray-800 dark:border-gray-700 text-left"},[a.value?(d(),i("div",j,[r("div",{class:f([[m(b)(a.value.icon)],"rounded-full p-1 text-white text-lg"])},[p(m(_),{icon:a.value.icon,class:"w-5 h-5"},null,8,["icon"])],2),r("span",null,w(a.value.name),1)])):(d(),i("span",z,"Selecciona Categoria")),p(m(T),{class:"w-5 h-5 text-gray-400"})]),p(N,{name:"slide-down"},{default:M(()=>[B(r("div",G,[r("div",K,[(d(!0),i(I,null,D(n.value,l=>(d(),i("div",{key:l.id,onClick:q=>k(l),class:f(["flex p-1 flex-col items-center rounded-lg cursor-pointer transition-all",{"bg-primary-100 dark:bg-primary-900 border-2 border-gray-200 dark:border-gray-500":t.modelValue===l.id,"hover:bg-gray-200 dark:hover:bg-gray-700":t.modelValue!==l.id}])},[r("div",{class:f([[m(b)(l.icon)],"rounded-full p-2 text-white text-lg hover:scale-110 duration-200"])},[p(m(_),{icon:l.icon},null,8,["icon"])],2),r("span",R,w(l.name),1)],10,P))),128))])],512),[[E,v.value]])]),_:1})]))}},W=O(Z,[["__scopeId","data-v-1930e17f"]]),X=F("movement",()=>{const t=c(!1),u=c(!1),e=c({type:"ingreso",amount:"",description:"",CategoryId:0,date:null});return{saveMovement:async s=>{try{e.value.date&&u.value&&(e.value.date=e.value.date.toISOString()),s?await y.put(`/movements/${e.value.id}`,e.value):await y.post("/movements",e.value),t.value=!0}catch(n){t.value=!1,console.error("Error al registrar movimiento",n)}},isSaved:t,movement:e,showPicker:u}});export{W as C,X as u};
