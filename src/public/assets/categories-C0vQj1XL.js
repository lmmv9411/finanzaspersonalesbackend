import{r as l,d as p,x as n}from"./index-DWXIo44m.js";function f(){const a=l(""),t=l([]),s=l(!1);let c=null;const o=async()=>{try{const e=await n.get("/categories");t.value=e.data}catch(e){console.error("Error fetching categories:",e)}},g=async()=>{if(s.value){i(c);return}try{const e=await n.post("/categories",{name:a.value});console.log("Category created:",e.data),a.value="",o()}catch(e){console.error("Error creating category:",e)}},u=async e=>{try{const r=await n.delete(`/categories/${e}`);console.log("Category deleted:",r.data),o()}catch(r){console.error("Error deleting category:",r)}},d=e=>{const r=t.value.findIndex(y=>y.id===e);r!==-1&&(a.value=t.value[r].name,t.value.splice(r,1),s.value=!0,c=e)},i=async e=>{try{const r=await n.put(`/categories/${e}`,{name:a.value});console.log("Category updated:",r.data),o(),s.value=!1,c=null,a.value=""}catch(r){console.error("Error updating category:",r)}};return p(async()=>o()),{name:a,categories:t,createCategory:g,deleteCategory:u,updateCategory:i,onUpdateCategory:d,isUpdate:s,getCategories:o}}export{f as u};
